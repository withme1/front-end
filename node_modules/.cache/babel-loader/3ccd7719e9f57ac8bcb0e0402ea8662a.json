{"ast":null,"code":"var _jsxFileName = \"/var/www/front-end/src/main/chat/ChatMapInfo.js\",\n    _s = $RefreshSig$();\n\n/*global kakao*/\n\n/** @jsxImportSource @emotion/react */\nimport { css } from '@emotion/react';\nimport { Button } from '@mui/material';\nimport { useEffect, useRef, useState } from 'react';\nimport Modal from 'react-modal/lib/components/Modal';\nimport { getDistance } from '../util/getDistance';\nimport { getLevelByDisance } from '../util/getLevelByDistance';\nimport { getMiddleLoc } from '../util/getMiddleLoc';\nimport { jsxDEV as _jsxDEV } from \"@emotion/react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"@emotion/react/jsx-dev-runtime\";\n\nfunction ChatMapInfo(_ref) {\n  _s();\n\n  let {\n    room\n  } = _ref;\n  const [open, setOpen] = useState(false);\n  const mapRef = useRef(null);\n\n  const waitModalRender = cb => {\n    if (mapRef.current === null) setTimeout(() => waitModalRender(cb), 0);else cb();\n  };\n\n  const clickHandler = e => {\n    setOpen(true);\n    waitModalRender(() => {\n      const startLoc = room.startLoc;\n      const endLoc = room.endLoc;\n      const middleLoc = getMiddleLoc(startLoc, endLoc);\n      const options = {\n        //지도를 생성할 때 필요한 기본 옵션\n        center: new kakao.maps.LatLng(middleLoc.latitude, middleLoc.longitude),\n        //지도의 중심좌표.\n        level: getLevelByDisance(getDistance(startLoc.latitude, startLoc.longitude, endLoc.latitude, endLoc.longitude) * 1000) //지도의 레벨(확대, 축소 정도)\n\n      };\n      const map = new kakao.maps.Map(mapRef.current, options); //지도 생성 및 객체 리턴\n      //마커 생성\n\n      const startMarker = new kakao.maps.Marker({\n        position: new kakao.maps.LatLng(startLoc.latitude, startLoc.longitude)\n      });\n      startMarker.setMap(map);\n      const startCustomOverlay = new kakao.maps.CustomOverlay({\n        map: map,\n        position: new kakao.maps.LatLng(startLoc.latitude, startLoc.longitude),\n        content: `<div style=\"padding:3px;position: relative;bottom:55px;color:black;background-color:white;border-radius:5px;border:1px solid black\">출발: ${room.start}</div>`\n      }); //마커 생성\n\n      const endMarker = new kakao.maps.Marker({\n        position: new kakao.maps.LatLng(endLoc.latitude, endLoc.longitude)\n      });\n      endMarker.setMap(map);\n      const endCustomOverlay = new kakao.maps.CustomOverlay({\n        map: map,\n        position: new kakao.maps.LatLng(endLoc.latitude, endLoc.longitude),\n        content: `<div style=\"padding:3px;position: relative;bottom:55px;color:black;background-color:white;border-radius:5px;border:1px solid black\">도착: ${room.end}</div>`\n      });\n    });\n  };\n\n  const isPC = useMediaQuery({\n    query: \"(min-width: 700px)\"\n  });\n  const mapButtonSytle = {\n    color: 'white',\n    boxShadow: \"0 0 0\",\n    backgroundColor: \"#2BAE66\",\n    padding: \"0px\",\n    fontSize: '0.8em',\n    width: '55px',\n    minWidth: '55px',\n    \"&:hover\": {\n      boxShadow: \"0 0 0\",\n      backgroundColor: \"#2BAE66\"\n    }\n  };\n  return _jsxDEV(_Fragment, {\n    children: [_jsxDEV(Button, {\n      sx: mapButtonSytle,\n      onClick: clickHandler,\n      children: \"\\uC704\\uCE58\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), _jsxDEV(Modal, {\n      style: {\n        overlay: {\n          zIndex: 2000\n        }\n      },\n      isOpen: open,\n      onRequestClose: () => setOpen(false),\n      ariaHideApp: false,\n      children: _jsxDEV(\"div\", {\n        ref: mapRef,\n        css: css`height: 100%`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ChatMapInfo, \"OOtTGBLjgg//WfMc59UpaCtOeY8=\", true);\n\n_c = ChatMapInfo;\nexport default ChatMapInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatMapInfo\");","map":{"version":3,"names":["css","Button","useEffect","useRef","useState","Modal","getDistance","getLevelByDisance","getMiddleLoc","ChatMapInfo","room","open","setOpen","mapRef","waitModalRender","cb","current","setTimeout","clickHandler","e","startLoc","endLoc","middleLoc","options","center","kakao","maps","LatLng","latitude","longitude","level","map","Map","startMarker","Marker","position","setMap","startCustomOverlay","CustomOverlay","content","start","endMarker","endCustomOverlay","end","isPC","useMediaQuery","query","mapButtonSytle","color","boxShadow","backgroundColor","padding","fontSize","width","minWidth","overlay","zIndex"],"sources":["/var/www/front-end/src/main/chat/ChatMapInfo.js"],"sourcesContent":["/*global kakao*/\n/** @jsxImportSource @emotion/react */\nimport { css } from '@emotion/react';\nimport { Button } from '@mui/material';\nimport { useEffect, useRef, useState } from 'react';\nimport Modal from 'react-modal/lib/components/Modal';\nimport { getDistance } from '../util/getDistance';\nimport { getLevelByDisance } from '../util/getLevelByDistance';\nimport { getMiddleLoc } from '../util/getMiddleLoc';\n\nfunction ChatMapInfo({ room }) {\n    const [open, setOpen] = useState(false);\n    const mapRef = useRef(null);\n\n    const waitModalRender = (cb) => {\n        if (mapRef.current === null)\n            setTimeout(() => waitModalRender(cb), 0);\n        else\n            cb();\n    }\n\n    const clickHandler = (e) => {\n        setOpen(true);\n        \n        waitModalRender(() => {\n            const startLoc = room.startLoc;\n            const endLoc = room.endLoc;\n            const middleLoc = getMiddleLoc(startLoc, endLoc);\n            const options = { //지도를 생성할 때 필요한 기본 옵션\n                center: new kakao.maps.LatLng(middleLoc.latitude, middleLoc.longitude), //지도의 중심좌표.\n                level: getLevelByDisance(getDistance(startLoc.latitude, startLoc.longitude, endLoc.latitude, endLoc.longitude)*1000) //지도의 레벨(확대, 축소 정도)\n            };\n\n            const map = new kakao.maps.Map(mapRef.current, options); //지도 생성 및 객체 리턴\n\n            //마커 생성\n            const startMarker = new kakao.maps.Marker({\n                position: new kakao.maps.LatLng(startLoc.latitude, startLoc.longitude)\n            });\n            startMarker.setMap(map);\n\n            const startCustomOverlay = new kakao.maps.CustomOverlay({\n                map: map,\n                position: new kakao.maps.LatLng(startLoc.latitude, startLoc.longitude),\n                content: `<div style=\"padding:3px;position: relative;bottom:55px;color:black;background-color:white;border-radius:5px;border:1px solid black\">출발: ${room.start}</div>`,\n            });\n\n            //마커 생성\n            const endMarker = new kakao.maps.Marker({\n                position: new kakao.maps.LatLng(endLoc.latitude, endLoc.longitude)\n            });\n            endMarker.setMap(map);\n\n            const endCustomOverlay = new kakao.maps.CustomOverlay({\n                map: map,\n                position: new kakao.maps.LatLng(endLoc.latitude, endLoc.longitude),\n                content: `<div style=\"padding:3px;position: relative;bottom:55px;color:black;background-color:white;border-radius:5px;border:1px solid black\">도착: ${room.end}</div>`,\n            });\n        })\n    }\n\n    const isPC = useMediaQuery({query : \"(min-width: 700px)\"});\n    \nconst mapButtonSytle = {\n    color: 'white',\n    boxShadow: \"0 0 0\",\n    backgroundColor: \"#2BAE66\",\n    padding: \"0px\",\n    fontSize: '0.8em',\n    width: '55px',\n    minWidth: '55px',\n\n    \"&:hover\": {\n        boxShadow: \"0 0 0\",\n        backgroundColor: \"#2BAE66\"\n    }\n};\n\n    return (\n        <>\n            <Button sx={mapButtonSytle} onClick={clickHandler}>위치</Button>\n            <Modal\n                style={{overlay: {zIndex: 2000}}}\n                isOpen={open}\n                onRequestClose={() => setOpen(false)}\n                ariaHideApp={false}\n            >\n                <div ref={mapRef} css={css`height: 100%`}></div>\n            </Modal>\n        </>\n    )\n}\n\nexport default ChatMapInfo"],"mappings":";;;AAAA;;AACA;AACA,SAASA,GAAT,QAAoB,gBAApB;AACA,SAASC,MAAT,QAAuB,eAAvB;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAOC,KAAP,MAAkB,kCAAlB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,iBAAT,QAAkC,4BAAlC;AACA,SAASC,YAAT,QAA6B,sBAA7B;;;;AAEA,SAASC,WAAT,OAA+B;EAAA;;EAAA,IAAV;IAAEC;EAAF,CAAU;EAC3B,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC,KAAD,CAAhC;EACA,MAAMS,MAAM,GAAGV,MAAM,CAAC,IAAD,CAArB;;EAEA,MAAMW,eAAe,GAAIC,EAAD,IAAQ;IAC5B,IAAIF,MAAM,CAACG,OAAP,KAAmB,IAAvB,EACIC,UAAU,CAAC,MAAMH,eAAe,CAACC,EAAD,CAAtB,EAA4B,CAA5B,CAAV,CADJ,KAGIA,EAAE;EACT,CALD;;EAOA,MAAMG,YAAY,GAAIC,CAAD,IAAO;IACxBP,OAAO,CAAC,IAAD,CAAP;IAEAE,eAAe,CAAC,MAAM;MAClB,MAAMM,QAAQ,GAAGV,IAAI,CAACU,QAAtB;MACA,MAAMC,MAAM,GAAGX,IAAI,CAACW,MAApB;MACA,MAAMC,SAAS,GAAGd,YAAY,CAACY,QAAD,EAAWC,MAAX,CAA9B;MACA,MAAME,OAAO,GAAG;QAAE;QACdC,MAAM,EAAE,IAAIC,KAAK,CAACC,IAAN,CAAWC,MAAf,CAAsBL,SAAS,CAACM,QAAhC,EAA0CN,SAAS,CAACO,SAApD,CADI;QAC4D;QACxEC,KAAK,EAAEvB,iBAAiB,CAACD,WAAW,CAACc,QAAQ,CAACQ,QAAV,EAAoBR,QAAQ,CAACS,SAA7B,EAAwCR,MAAM,CAACO,QAA/C,EAAyDP,MAAM,CAACQ,SAAhE,CAAX,GAAsF,IAAvF,CAFZ,CAEyG;;MAFzG,CAAhB;MAKA,MAAME,GAAG,GAAG,IAAIN,KAAK,CAACC,IAAN,CAAWM,GAAf,CAAmBnB,MAAM,CAACG,OAA1B,EAAmCO,OAAnC,CAAZ,CATkB,CASuC;MAEzD;;MACA,MAAMU,WAAW,GAAG,IAAIR,KAAK,CAACC,IAAN,CAAWQ,MAAf,CAAsB;QACtCC,QAAQ,EAAE,IAAIV,KAAK,CAACC,IAAN,CAAWC,MAAf,CAAsBP,QAAQ,CAACQ,QAA/B,EAAyCR,QAAQ,CAACS,SAAlD;MAD4B,CAAtB,CAApB;MAGAI,WAAW,CAACG,MAAZ,CAAmBL,GAAnB;MAEA,MAAMM,kBAAkB,GAAG,IAAIZ,KAAK,CAACC,IAAN,CAAWY,aAAf,CAA6B;QACpDP,GAAG,EAAEA,GAD+C;QAEpDI,QAAQ,EAAE,IAAIV,KAAK,CAACC,IAAN,CAAWC,MAAf,CAAsBP,QAAQ,CAACQ,QAA/B,EAAyCR,QAAQ,CAACS,SAAlD,CAF0C;QAGpDU,OAAO,EAAG,2IAA0I7B,IAAI,CAAC8B,KAAM;MAH3G,CAA7B,CAA3B,CAjBkB,CAuBlB;;MACA,MAAMC,SAAS,GAAG,IAAIhB,KAAK,CAACC,IAAN,CAAWQ,MAAf,CAAsB;QACpCC,QAAQ,EAAE,IAAIV,KAAK,CAACC,IAAN,CAAWC,MAAf,CAAsBN,MAAM,CAACO,QAA7B,EAAuCP,MAAM,CAACQ,SAA9C;MAD0B,CAAtB,CAAlB;MAGAY,SAAS,CAACL,MAAV,CAAiBL,GAAjB;MAEA,MAAMW,gBAAgB,GAAG,IAAIjB,KAAK,CAACC,IAAN,CAAWY,aAAf,CAA6B;QAClDP,GAAG,EAAEA,GAD6C;QAElDI,QAAQ,EAAE,IAAIV,KAAK,CAACC,IAAN,CAAWC,MAAf,CAAsBN,MAAM,CAACO,QAA7B,EAAuCP,MAAM,CAACQ,SAA9C,CAFwC;QAGlDU,OAAO,EAAG,2IAA0I7B,IAAI,CAACiC,GAAI;MAH3G,CAA7B,CAAzB;IAKH,CAlCc,CAAf;EAmCH,CAtCD;;EAwCA,MAAMC,IAAI,GAAGC,aAAa,CAAC;IAACC,KAAK,EAAG;EAAT,CAAD,CAA1B;EAEJ,MAAMC,cAAc,GAAG;IACnBC,KAAK,EAAE,OADY;IAEnBC,SAAS,EAAE,OAFQ;IAGnBC,eAAe,EAAE,SAHE;IAInBC,OAAO,EAAE,KAJU;IAKnBC,QAAQ,EAAE,OALS;IAMnBC,KAAK,EAAE,MANY;IAOnBC,QAAQ,EAAE,MAPS;IASnB,WAAW;MACPL,SAAS,EAAE,OADJ;MAEPC,eAAe,EAAE;IAFV;EATQ,CAAvB;EAeI,OACI;IAAA,WACI,QAAC,MAAD;MAAQ,EAAE,EAAEH,cAAZ;MAA4B,OAAO,EAAE7B,YAArC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,EAEI,QAAC,KAAD;MACI,KAAK,EAAE;QAACqC,OAAO,EAAE;UAACC,MAAM,EAAE;QAAT;MAAV,CADX;MAEI,MAAM,EAAE7C,IAFZ;MAGI,cAAc,EAAE,MAAMC,OAAO,CAAC,KAAD,CAHjC;MAII,WAAW,EAAE,KAJjB;MAAA,UAMI;QAAK,GAAG,EAAEC,MAAV;QAAkB,GAAG,EAAEb,GAAI;MAA3B;QAAA;QAAA;QAAA;MAAA;IANJ;MAAA;MAAA;MAAA;IAAA,QAFJ;EAAA,gBADJ;AAaH;;GAjFQS,W;;KAAAA,W;AAmFT,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}