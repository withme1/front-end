{"ast":null,"code":"var _jsxFileName = \"/var/www/front-end/src/main/chat/ChatMapInfo.js\",\n    _s = $RefreshSig$();\n\n/** @jsxImportSource @emotion/react */\nimport { css } from '@emotion/react';\nimport { Button } from '@mui/material';\nimport { useEffect, useRef, useState } from 'react';\nimport Modal from 'react-modal/lib/components/Modal';\nimport { jsxDEV as _jsxDEV } from \"@emotion/react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"@emotion/react/jsx-dev-runtime\";\nconst mapButtonSytle = {\n  color: 'white',\n  boxShadow: \"0 0 0\",\n  backgroundColor: \"#2BAE66\",\n  padding: \"0px\",\n  fontSize: '0.8em',\n  width: '55px',\n  minWidth: '55px',\n  \"&:hover\": {\n    boxShadow: \"0 0 0\",\n    backgroundColor: \"#2BAE66\"\n  }\n};\n\nfunction ChatMapInfo() {\n  _s();\n\n  const [open, setOpen] = useState(false);\n  const mapRef = useRef(null);\n\n  const waitModalRender = cb => {\n    if (mapRef.current === null) setTimeout(() => waitModalRender(cb), 0);else cb();\n  };\n\n  const clickHandler = e => {\n    setOpen(true);\n    waitModalRender(() => {\n      const options = {\n        //지도를 생성할 때 필요한 기본 옵션\n        center: new kakao.maps.LatLng(locc.latitude, locc.longitude),\n        //지도의 중심좌표.\n        level: 3 //지도의 레벨(확대, 축소 정도)\n\n      };\n      const map = new kakao.maps.Map(mapRef.current, options); //지도 생성 및 객체 리턴\n\n      if (activate) {\n        const marker = new kakao.maps.Marker({\n          // 지도 중심좌표에 마커를 생성합니다 \n          position: new kakao.maps.LatLng(locc.latitude, locc.longitude)\n        });\n        marker.setMap(map);\n        const customOverlay = new kakao.maps.CustomOverlay({\n          map: map,\n          position: new kakao.maps.LatLng(locc.latitude, locc.longitude),\n          content: `<div style=\"padding:3px;position: relative;bottom:55px;color:black;background-color:white;border-radius:5px;border:1px solid black\">${text}</div>`\n        });\n      }\n\n      kakao.maps.event.addListener(map, 'click', event => {\n        // 클릭한 위도, 경도 정보를 가져옵니다 \n        const latlng = event.latLng;\n        setLoc({\n          latitude: latlng.getLat(),\n          longitude: latlng.getLng()\n        });\n        setOpen(false);\n        setActivate(true);\n      });\n    });\n  };\n\n  return _jsxDEV(_Fragment, {\n    children: [_jsxDEV(Button, {\n      sx: mapButtonSytle,\n      onClick: clickHandler,\n      children: \"\\uC704\\uCE58\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), _jsxDEV(Modal, {\n      isOpen: open,\n      onRequestClose: () => setOpen(false),\n      ariaHideApp: false,\n      children: _jsxDEV(\"div\", {\n        ref: mapRef,\n        css: css`height: 100%`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ChatMapInfo, \"5drilctw5vHsTqFtARh01N6lBc8=\");\n\n_c = ChatMapInfo;\nexport default ChatMapInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatMapInfo\");","map":{"version":3,"names":["css","Button","useEffect","useRef","useState","Modal","mapButtonSytle","color","boxShadow","backgroundColor","padding","fontSize","width","minWidth","ChatMapInfo","open","setOpen","mapRef","waitModalRender","cb","current","setTimeout","clickHandler","e","options","center","kakao","maps","LatLng","locc","latitude","longitude","level","map","Map","activate","marker","Marker","position","setMap","customOverlay","CustomOverlay","content","text","event","addListener","latlng","latLng","setLoc","getLat","getLng","setActivate"],"sources":["/var/www/front-end/src/main/chat/ChatMapInfo.js"],"sourcesContent":["/** @jsxImportSource @emotion/react */\nimport { css } from '@emotion/react';\nimport { Button } from '@mui/material';\nimport { useEffect, useRef, useState } from 'react';\nimport Modal from 'react-modal/lib/components/Modal';\n\nconst mapButtonSytle = {\n    color: 'white',\n    boxShadow: \"0 0 0\",\n    backgroundColor: \"#2BAE66\",\n    padding: \"0px\",\n    fontSize: '0.8em',\n    width: '55px',\n    minWidth: '55px',\n\n    \"&:hover\": {\n        boxShadow: \"0 0 0\",\n        backgroundColor: \"#2BAE66\"\n    }\n};\n\nfunction ChatMapInfo() {\n    const [open, setOpen] = useState(false);\n    const mapRef = useRef(null);\n\n    const waitModalRender = (cb) => {\n        if (mapRef.current === null)\n            setTimeout(() => waitModalRender(cb), 0);\n        else\n            cb();\n    }\n\n    const clickHandler = (e) => {\n        setOpen(true);\n\n        waitModalRender(() => {\n            const options = { //지도를 생성할 때 필요한 기본 옵션\n                center: new kakao.maps.LatLng(locc.latitude, locc.longitude), //지도의 중심좌표.\n                level: 3 //지도의 레벨(확대, 축소 정도)\n            };\n            const map = new kakao.maps.Map(mapRef.current, options); //지도 생성 및 객체 리턴\n\n            if (activate) {\n                const marker = new kakao.maps.Marker({\n                    // 지도 중심좌표에 마커를 생성합니다 \n                    position: new kakao.maps.LatLng(locc.latitude, locc.longitude),\n                });\n                marker.setMap(map);\n\n                const customOverlay = new kakao.maps.CustomOverlay({\n                    map: map,\n                    position: new kakao.maps.LatLng(locc.latitude, locc.longitude),\n                    content: `<div style=\"padding:3px;position: relative;bottom:55px;color:black;background-color:white;border-radius:5px;border:1px solid black\">${text}</div>`,\n                });\n            }\n\n            kakao.maps.event.addListener(map, 'click', (event) => {\n                // 클릭한 위도, 경도 정보를 가져옵니다 \n                const latlng = event.latLng;\n                setLoc({ latitude: latlng.getLat(), longitude: latlng.getLng() })\n                setOpen(false);\n                setActivate(true);\n            });\n        })\n    }\n\n    return (\n        <>\n            <Button sx={mapButtonSytle} onClick={clickHandler}>위치</Button>\n            <Modal\n                isOpen={open}\n                onRequestClose={() => setOpen(false)}\n                ariaHideApp={false}\n            >\n                <div ref={mapRef} css={css`height: 100%`}></div>\n            </Modal>\n        </>\n    )\n}\n\nexport default ChatMapInfo"],"mappings":"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"},"metadata":{},"sourceType":"module"}