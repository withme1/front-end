{"ast":null,"code":"import _taggedTemplateLiteral from\"/var/www/front-end/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;/*global kakao*/ /** @jsxImportSource @emotion/react */import{css}from'@emotion/react';import{useState,useRef}from\"react\";import Modal from\"react-modal/lib/components/Modal\";import{getDistance}from'../util/getDistance';import{getLevelByDisance}from'../util/getLevelByDistance';import{getMiddleLoc}from'../util/getMiddleLoc';import{jsx as _jsx}from\"@emotion/react/jsx-runtime\";import{jsxs as _jsxs}from\"@emotion/react/jsx-runtime\";import{Fragment as _Fragment}from\"@emotion/react/jsx-runtime\";var modalStyle={overlay:{zIndex:2000},content:{top:'calc(var(--vh, 1vh) * 10)',left:'10vw',right:'10vw',bottom:'calc(var(--vh, 1vh) * 10)'}};var mapStyle=css(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    height: 100%\\n\"])));var clickStyle=css(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    color: #FCF6F5;\\n    display: flex;\\n    flex-wrap: wrap;\\n    justify-content: center;\\n    text-decoration: none;\\n    &:visited {\\n        color: #FCF6F5;\\n    }\\n\"])));function ModalText(_ref){var closeMap=_ref.closeMap,open=_ref.open,setOpen=_ref.setOpen,start=_ref.start,startLoc=_ref.startLoc,end=_ref.end,endLoc=_ref.endLoc;var mapRef=useRef(null);var waitModalRender=function waitModalRender(cb){if(mapRef.current===null)setTimeout(function(){return waitModalRender(cb);},0);else cb();};if(open){waitModalRender(function(){var middleLoc=getMiddleLoc(startLoc,endLoc);var options={//지도를 생성할 때 필요한 기본 옵션\ncenter:new kakao.maps.LatLng(middleLoc.latitude,middleLoc.longitude),//지도의 중심좌표.\nlevel:getLevelByDisance(getDistance(startLoc.latitude,startLoc.longitude,endLoc.latitude,endLoc.longitude)*1000)//지도의 레벨(확대, 축소 정도)\n};var map=new kakao.maps.Map(mapRef.current,options);//지도 생성 및 객체 리턴\n//마커 생성\nvar startMarker=new kakao.maps.Marker({position:new kakao.maps.LatLng(startLoc.latitude,startLoc.longitude)});startMarker.setMap(map);var startCustomOverlay=new kakao.maps.CustomOverlay({map:map,position:new kakao.maps.LatLng(startLoc.latitude,startLoc.longitude),content:\"<div style=\\\"padding:3px;position: relative;bottom:55px;color:black;background-color:white;border-radius:5px;border:1px solid black\\\">\\uCD9C\\uBC1C: \".concat(start,\"</div>\")});//마커 생성\nvar endMarker=new kakao.maps.Marker({position:new kakao.maps.LatLng(endLoc.latitude,endLoc.longitude)});endMarker.setMap(map);var customOverlay=new kakao.maps.CustomOverlay({map:map,position:new kakao.maps.LatLng(endLoc.latitude,endLoc.longitude),content:\"<div style=\\\"padding:3px;position: relative;bottom:55px;color:black;background-color:white;border-radius:5px;border:1px solid black\\\">\\uB3C4\\uCC29: \".concat(end,\"</div>\")});});}return _jsxs(_Fragment,{children:[_jsxs(\"div\",{css:clickStyle,children:[_jsx(\"div\",{css:css(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"display: inline-block; display:flex; align-items: center\"]))),children:start}),_jsx(\"div\",{css:css(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"display: inline-block; display:flex; align-items: center\"]))),children:\"\\xA0\\u2192\\xA0\".concat(end)})]}),_jsx(Modal,{style:modalStyle,isOpen:open,onRequestClose:closeMap,ariaHideApp:false,children:_jsx(\"div\",{ref:mapRef,css:mapStyle})})]});}export default ModalText;","map":{"version":3,"names":["css","useState","useRef","Modal","getDistance","getLevelByDisance","getMiddleLoc","modalStyle","overlay","zIndex","content","top","left","right","bottom","mapStyle","clickStyle","ModalText","closeMap","open","setOpen","start","startLoc","end","endLoc","mapRef","waitModalRender","cb","current","setTimeout","middleLoc","options","center","kakao","maps","LatLng","latitude","longitude","level","map","Map","startMarker","Marker","position","setMap","startCustomOverlay","CustomOverlay","endMarker","customOverlay"],"sources":["/var/www/front-end/src/main/room/ModalText.js"],"sourcesContent":["/*global kakao*/\n/** @jsxImportSource @emotion/react */\nimport { css } from '@emotion/react';\nimport { useState, useRef } from \"react\";\nimport Modal from \"react-modal/lib/components/Modal\"\nimport { getDistance } from '../util/getDistance';\nimport { getLevelByDisance } from '../util/getLevelByDistance';\nimport { getMiddleLoc } from '../util/getMiddleLoc';\n\nconst modalStyle = {\n    overlay: {\n        zIndex: 2000\n    },\n    content: {\n        top: 'calc(var(--vh, 1vh) * 10)',\n        left: '10vw',\n        right: '10vw',\n        bottom: 'calc(var(--vh, 1vh) * 10)'\n      }\n};\n\nconst mapStyle = css`\n    height: 100%\n`;\n\nconst clickStyle = css`\n    color: #FCF6F5;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    text-decoration: none;\n    &:visited {\n        color: #FCF6F5;\n    }\n`;\n\nfunction ModalText({ closeMap, open, setOpen, start, startLoc, end, endLoc }) {\n    const mapRef = useRef(null);\n\n    const waitModalRender = (cb) => {\n        if (mapRef.current === null)\n            setTimeout(() => waitModalRender(cb), 0);\n        else\n            cb();\n    }\n\n    if (open) {\n        waitModalRender(() => {\n            const middleLoc = getMiddleLoc(startLoc, endLoc);\n            const options = { //지도를 생성할 때 필요한 기본 옵션\n                center: new kakao.maps.LatLng(middleLoc.latitude, middleLoc.longitude), //지도의 중심좌표.\n                level: getLevelByDisance(getDistance(startLoc.latitude, startLoc.longitude, endLoc.latitude, endLoc.longitude)*1000) //지도의 레벨(확대, 축소 정도)\n            };\n\n            const map = new kakao.maps.Map(mapRef.current, options); //지도 생성 및 객체 리턴\n\n            //마커 생성\n            const startMarker = new kakao.maps.Marker({\n                position: new kakao.maps.LatLng(startLoc.latitude, startLoc.longitude)\n            });\n            startMarker.setMap(map);\n\n            const startCustomOverlay = new kakao.maps.CustomOverlay({\n                map: map,\n                position: new kakao.maps.LatLng(startLoc.latitude, startLoc.longitude),\n                content: `<div style=\"padding:3px;position: relative;bottom:55px;color:black;background-color:white;border-radius:5px;border:1px solid black\">출발: ${start}</div>`,\n            });\n\n            //마커 생성\n            const endMarker = new kakao.maps.Marker({\n                position: new kakao.maps.LatLng(endLoc.latitude, endLoc.longitude)\n            });\n            endMarker.setMap(map);\n\n            const customOverlay = new kakao.maps.CustomOverlay({\n                map: map,\n                position: new kakao.maps.LatLng(endLoc.latitude, endLoc.longitude),\n                content: `<div style=\"padding:3px;position: relative;bottom:55px;color:black;background-color:white;border-radius:5px;border:1px solid black\">도착: ${end}</div>`,\n            });\n        })\n    }\n\n    return (\n        <>\n            <div css={clickStyle}>\n                <div css={css`display: inline-block; display:flex; align-items: center`}>\n                    {start}\n                </div>\n                <div css={css`display: inline-block; display:flex; align-items: center`}>\n                    {`\\u00A0→\\u00A0${end}`}\n                </div>\n            </div>\n            <Modal\n                style={modalStyle}\n                isOpen={open}\n                onRequestClose={closeMap}\n                ariaHideApp={false}\n            >\n                <div ref={mapRef} css={mapStyle}>\n                    \n                </div>\n            </Modal>\n        </>\n    )\n\n}\n\nexport default ModalText"],"mappings":"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"},"metadata":{},"sourceType":"module"}