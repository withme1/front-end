{"ast":null,"code":"import _taggedTemplateLiteral from\"/var/www/front-end/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _slicedToArray from\"/var/www/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject;/*global kakao*/ /** @jsxImportSource @emotion/react */import{css}from'@emotion/react';import{useRef,useState}from'react';import Modal from'react-modal/lib/components/Modal';import FmdGoodOutlinedIcon from'@mui/icons-material/FmdGoodOutlined';import{IconButton}from'@mui/material';import{jsx as _jsx}from\"@emotion/react/jsx-runtime\";import{Fragment as _Fragment}from\"@emotion/react/jsx-runtime\";import{jsxs as _jsxs}from\"@emotion/react/jsx-runtime\";var validColor=\"#2BAE66\";function SelectLoc(_ref){var loc=_ref.loc,setLoc=_ref.setLoc,sortBy=_ref.sortBy;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var mapRef=useRef(null);var waitModalRender=function waitModalRender(cb){if(mapRef.current===null)setTimeout(function(){return waitModalRender(cb);},0);else cb();};var iconClickHandler=function iconClickHandler(e){e.preventDefault();setOpen(true);waitModalRender(function(){var options={//지도를 생성할 때 필요한 기본 옵션\ncenter:new kakao.maps.LatLng(loc.latitude,loc.longitude),//지도의 중심좌표.\nlevel:3//지도의 레벨(확대, 축소 정도)\n};var map=new kakao.maps.Map(mapRef.current,options);//지도 생성 및 객체 리턴\nvar marker=new kakao.maps.Marker({// 지도 중심좌표에 마커를 생성합니다 \nposition:new kakao.maps.LatLng(loc.latitude,loc.longitude)});marker.setMap(map);var customOverlay=new kakao.maps.CustomOverlay({map:map,position:new kakao.maps.LatLng(loc.latitude,loc.longitude),content:\"<div style=\\\"padding:3px;position: relative;bottom:55px;color:black;background-color:white;border-radius:5px;border:1px solid black\\\">\\uAC80\\uC0C9\\uAE30\\uC900: \".concat(sortBy==='start'?'출발지':'도착지',\"</div>\")});kakao.maps.event.addListener(map,'click',function(event){// 클릭한 위도, 경도 정보를 가져옵니다 \nvar latlng=event.latLng;setLoc({latitude:latlng.getLat(),longitude:latlng.getLng()});setOpen(false);});});};return _jsxs(_Fragment,{children:[_jsx(IconButton,{sx:{\"svg.MuiSvgIcon-root\":{color:loc===null?'none':validColor}},size:\"large\",onClick:iconClickHandler,children:_jsx(FmdGoodOutlinedIcon,{fontSize:\"inherit\"})}),_jsx(Modal,{isOpen:open,onRequestClose:function onRequestClose(){return setOpen(false);},ariaHideApp:false,children:_jsx(\"div\",{ref:mapRef,css:css(_templateObject||(_templateObject=_taggedTemplateLiteral([\"height:100%\"])))})})]});}export default SelectLoc;","map":{"version":3,"names":["css","useRef","useState","Modal","FmdGoodOutlinedIcon","IconButton","validColor","SelectLoc","loc","setLoc","sortBy","open","setOpen","mapRef","waitModalRender","cb","current","setTimeout","iconClickHandler","e","preventDefault","options","center","kakao","maps","LatLng","latitude","longitude","level","map","Map","marker","Marker","position","setMap","customOverlay","CustomOverlay","content","event","addListener","latlng","latLng","getLat","getLng","color"],"sources":["/var/www/front-end/src/main/room/sort/SelectLoc.js"],"sourcesContent":["/*global kakao*/\n/** @jsxImportSource @emotion/react */\nimport { css } from '@emotion/react';\nimport { useRef, useState } from 'react'\nimport Modal from 'react-modal/lib/components/Modal'\nimport FmdGoodOutlinedIcon from '@mui/icons-material/FmdGoodOutlined';\nimport { IconButton } from '@mui/material';\n\nconst validColor = \"#2BAE66\";\n\nfunction SelectLoc({ loc, setLoc, sortBy }) {\n    const [open, setOpen] = useState(false);\n    const mapRef = useRef(null);\n\n    const waitModalRender = (cb) => {\n        if (mapRef.current === null)\n            setTimeout(() => waitModalRender(cb), 0);\n        else\n            cb();\n    }\n\n    const iconClickHandler = (e) => {\n        e.preventDefault();\n        setOpen(true);\n\n        waitModalRender(() => {\n            const options = { //지도를 생성할 때 필요한 기본 옵션\n                center: new kakao.maps.LatLng(loc.latitude, loc.longitude), //지도의 중심좌표.\n                level: 3 //지도의 레벨(확대, 축소 정도)\n            };\n            const map = new kakao.maps.Map(mapRef.current, options); //지도 생성 및 객체 리턴\n\n            const marker = new kakao.maps.Marker({\n                // 지도 중심좌표에 마커를 생성합니다 \n                position: new kakao.maps.LatLng(loc.latitude, loc.longitude),\n            });\n            marker.setMap(map);\n\n            const customOverlay = new kakao.maps.CustomOverlay({\n                map: map,\n                position: new kakao.maps.LatLng(loc.latitude, loc.longitude),\n                content: `<div style=\"padding:3px;position: relative;bottom:55px;color:black;background-color:white;border-radius:5px;border:1px solid black\">검색기준: ${sortBy === 'start' ? '출발지' : '도착지'}</div>`,\n            });\n\n            kakao.maps.event.addListener(map, 'click', (event) => {\n                // 클릭한 위도, 경도 정보를 가져옵니다 \n                const latlng = event.latLng;\n                setLoc({ latitude: latlng.getLat(), longitude: latlng.getLng() });\n                setOpen(false);\n            });\n        })\n    }\n\n    return (\n        <>\n            <IconButton sx={{ \"svg.MuiSvgIcon-root\": { color: loc === null ? 'none' : validColor } }} size=\"large\" onClick={iconClickHandler}>\n                <FmdGoodOutlinedIcon fontSize=\"inherit\" />\n            </IconButton>\n            <Modal\n                isOpen={open}\n                onRequestClose={() => setOpen(false)}\n                ariaHideApp={false}\n            >\n                <div ref={mapRef} css={css`height:100%`}>\n\n                </div>\n\n            </Modal>\n        </>\n    )\n}\n\nexport default SelectLoc"],"mappings":"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"},"metadata":{},"sourceType":"module"}