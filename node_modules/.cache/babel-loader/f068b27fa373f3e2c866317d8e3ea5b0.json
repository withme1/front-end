{"ast":null,"code":"var _jsxFileName = \"/var/www/front-end/src/main/room/sort/SelectLoc.js\",\n    _s = $RefreshSig$();\n\n/*global kakao*/\n\n/** @jsxImportSource @emotion/react */\nimport { css } from '@emotion/react';\nimport { useRef, useState } from 'react';\nimport Modal from 'react-modal/lib/components/Modal';\nimport FmdGoodOutlinedIcon from '@mui/icons-material/FmdGoodOutlined';\nimport { IconButton } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"@emotion/react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"@emotion/react/jsx-dev-runtime\";\nconst validColor = \"#2BAE66\";\n\nfunction SelectLoc(_ref) {\n  _s();\n\n  let {\n    loc,\n    setLoc\n  } = _ref;\n  const [open, setOpen] = useState(false);\n  const mapRef = useRef(null);\n\n  const waitModalRender = cb => {\n    if (mapRef.current === null) setTimeout(() => waitModalRender(cb), 0);else cb();\n  };\n\n  const iconClickHandler = e => {\n    e.preventDefault();\n    setOpen(true);\n    waitModalRender(() => {\n      const options = {\n        //지도를 생성할 때 필요한 기본 옵션\n        center: new kakao.maps.LatLng(loc.latitude, loc.longitude),\n        //지도의 중심좌표.\n        level: 3 //지도의 레벨(확대, 축소 정도)\n\n      };\n      const map = new kakao.maps.Map(mapRef.current, options); //지도 생성 및 객체 리턴\n\n      const marker = new kakao.maps.Marker({\n        // 지도 중심좌표에 마커를 생성합니다 \n        position: new kakao.maps.LatLng(loc.latitude, loc.longitude)\n      }); // 지도에 마커를 표시합니다\n\n      marker.setMap(map);\n      kakao.maps.event.addListener(map, 'click', event => {\n        // 클릭한 위도, 경도 정보를 가져옵니다 \n        const latlng = event.latLng;\n        setLoc({\n          latitude: latlng.getLat(),\n          longitude: latlng.getLng()\n        });\n        setOpen(false);\n      });\n    });\n  };\n\n  return _jsxDEV(_Fragment, {\n    children: [_jsxDEV(IconButton, {\n      sx: {\n        \"svg.MuiSvgIcon-root\": {\n          color: loc === null ? 'none' : validColor\n        }\n      },\n      size: \"large\",\n      onClick: iconClickHandler,\n      children: _jsxDEV(FmdGoodOutlinedIcon, {\n        fontSize: \"inherit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), _jsxDEV(Modal, {\n      isOpen: open,\n      onRequestClose: () => setOpen(false),\n      ariaHideApp: false,\n      children: _jsxDEV(\"div\", {\n        ref: mapRef,\n        css: css`height:100%`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SelectLoc, \"5drilctw5vHsTqFtARh01N6lBc8=\");\n\n_c = SelectLoc;\nexport default SelectLoc;\n\nvar _c;\n\n$RefreshReg$(_c, \"SelectLoc\");","map":{"version":3,"names":["css","useRef","useState","Modal","FmdGoodOutlinedIcon","IconButton","validColor","SelectLoc","loc","setLoc","open","setOpen","mapRef","waitModalRender","cb","current","setTimeout","iconClickHandler","e","preventDefault","options","center","kakao","maps","LatLng","latitude","longitude","level","map","Map","marker","Marker","position","setMap","event","addListener","latlng","latLng","getLat","getLng","color"],"sources":["/var/www/front-end/src/main/room/sort/SelectLoc.js"],"sourcesContent":["/*global kakao*/\n/** @jsxImportSource @emotion/react */\nimport { css } from '@emotion/react';\nimport { useRef, useState } from 'react'\nimport Modal from 'react-modal/lib/components/Modal'\nimport FmdGoodOutlinedIcon from '@mui/icons-material/FmdGoodOutlined';\nimport { IconButton } from '@mui/material';\n\nconst validColor = \"#2BAE66\";\n\nfunction SelectLoc({ loc, setLoc }) {\n    const [open, setOpen] = useState(false);\n    const mapRef = useRef(null);\n\n    const waitModalRender = (cb) => {\n        if (mapRef.current === null)\n            setTimeout(() => waitModalRender(cb), 0);\n        else\n            cb();\n    }\n\n    const iconClickHandler = (e) => {\n        e.preventDefault();\n        setOpen(true);\n\n        waitModalRender(() => {\n            const options = { //지도를 생성할 때 필요한 기본 옵션\n                center: new kakao.maps.LatLng(loc.latitude, loc.longitude), //지도의 중심좌표.\n                level: 3 //지도의 레벨(확대, 축소 정도)\n            };\n            const map = new kakao.maps.Map(mapRef.current, options); //지도 생성 및 객체 리턴\n\n            const marker = new kakao.maps.Marker({\n                // 지도 중심좌표에 마커를 생성합니다 \n                position: new kakao.maps.LatLng(loc.latitude, loc.longitude)\n            });\n            // 지도에 마커를 표시합니다\n            marker.setMap(map);\n\n            kakao.maps.event.addListener(map, 'click', (event) => {\n                // 클릭한 위도, 경도 정보를 가져옵니다 \n                const latlng = event.latLng;\n                setLoc({ latitude: latlng.getLat(), longitude: latlng.getLng() });\n                setOpen(false);\n            });\n        })\n    }\n\n    return (\n        <>\n            <IconButton sx={{ \"svg.MuiSvgIcon-root\": { color: loc === null ? 'none' : validColor } }} size=\"large\" onClick={iconClickHandler}>\n                <FmdGoodOutlinedIcon fontSize=\"inherit\" />\n            </IconButton>\n            <Modal\n                isOpen={open}\n                onRequestClose={() => setOpen(false)}\n                ariaHideApp={false}\n            >\n                <div ref={mapRef} css={css`height:100%`}>\n\n                </div>\n\n            </Modal>\n        </>\n    )\n}\n\nexport default SelectLoc"],"mappings":";;;AAAA;;AACA;AACA,SAASA,GAAT,QAAoB,gBAApB;AACA,SAASC,MAAT,EAAiBC,QAAjB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,kCAAlB;AACA,OAAOC,mBAAP,MAAgC,qCAAhC;AACA,SAASC,UAAT,QAA2B,eAA3B;;;AAEA,MAAMC,UAAU,GAAG,SAAnB;;AAEA,SAASC,SAAT,OAAoC;EAAA;;EAAA,IAAjB;IAAEC,GAAF;IAAOC;EAAP,CAAiB;EAChC,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,KAAD,CAAhC;EACA,MAAMU,MAAM,GAAGX,MAAM,CAAC,IAAD,CAArB;;EAEA,MAAMY,eAAe,GAAIC,EAAD,IAAQ;IAC5B,IAAIF,MAAM,CAACG,OAAP,KAAmB,IAAvB,EACIC,UAAU,CAAC,MAAMH,eAAe,CAACC,EAAD,CAAtB,EAA4B,CAA5B,CAAV,CADJ,KAGIA,EAAE;EACT,CALD;;EAOA,MAAMG,gBAAgB,GAAIC,CAAD,IAAO;IAC5BA,CAAC,CAACC,cAAF;IACAR,OAAO,CAAC,IAAD,CAAP;IAEAE,eAAe,CAAC,MAAM;MAClB,MAAMO,OAAO,GAAG;QAAE;QACdC,MAAM,EAAE,IAAIC,KAAK,CAACC,IAAN,CAAWC,MAAf,CAAsBhB,GAAG,CAACiB,QAA1B,EAAoCjB,GAAG,CAACkB,SAAxC,CADI;QACgD;QAC5DC,KAAK,EAAE,CAFK,CAEH;;MAFG,CAAhB;MAIA,MAAMC,GAAG,GAAG,IAAIN,KAAK,CAACC,IAAN,CAAWM,GAAf,CAAmBjB,MAAM,CAACG,OAA1B,EAAmCK,OAAnC,CAAZ,CALkB,CAKuC;;MAEzD,MAAMU,MAAM,GAAG,IAAIR,KAAK,CAACC,IAAN,CAAWQ,MAAf,CAAsB;QACjC;QACAC,QAAQ,EAAE,IAAIV,KAAK,CAACC,IAAN,CAAWC,MAAf,CAAsBhB,GAAG,CAACiB,QAA1B,EAAoCjB,GAAG,CAACkB,SAAxC;MAFuB,CAAtB,CAAf,CAPkB,CAWlB;;MACAI,MAAM,CAACG,MAAP,CAAcL,GAAd;MAEAN,KAAK,CAACC,IAAN,CAAWW,KAAX,CAAiBC,WAAjB,CAA6BP,GAA7B,EAAkC,OAAlC,EAA4CM,KAAD,IAAW;QAClD;QACA,MAAME,MAAM,GAAGF,KAAK,CAACG,MAArB;QACA5B,MAAM,CAAC;UAAEgB,QAAQ,EAAEW,MAAM,CAACE,MAAP,EAAZ;UAA6BZ,SAAS,EAAEU,MAAM,CAACG,MAAP;QAAxC,CAAD,CAAN;QACA5B,OAAO,CAAC,KAAD,CAAP;MACH,CALD;IAMH,CApBc,CAAf;EAqBH,CAzBD;;EA2BA,OACI;IAAA,WACI,QAAC,UAAD;MAAY,EAAE,EAAE;QAAE,uBAAuB;UAAE6B,KAAK,EAAEhC,GAAG,KAAK,IAAR,GAAe,MAAf,GAAwBF;QAAjC;MAAzB,CAAhB;MAA0F,IAAI,EAAC,OAA/F;MAAuG,OAAO,EAAEW,gBAAhH;MAAA,UACI,QAAC,mBAAD;QAAqB,QAAQ,EAAC;MAA9B;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QADJ,EAII,QAAC,KAAD;MACI,MAAM,EAAEP,IADZ;MAEI,cAAc,EAAE,MAAMC,OAAO,CAAC,KAAD,CAFjC;MAGI,WAAW,EAAE,KAHjB;MAAA,UAKI;QAAK,GAAG,EAAEC,MAAV;QAAkB,GAAG,EAAEZ,GAAI;MAA3B;QAAA;QAAA;QAAA;MAAA;IALJ;MAAA;MAAA;MAAA;IAAA,QAJJ;EAAA,gBADJ;AAiBH;;GAvDQO,S;;KAAAA,S;AAyDT,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}